{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{listDecks,deleteDeck}from\"../utils/api/index\";import{Link,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),decks=_useState2[0],setDecks=_useState2[1];var history=useHistory();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var abortController,deckResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abortController=new AbortController();_context.prev=1;_context.next=4;return listDecks(abortController.signal);case 4:deckResponse=_context.sent;setDecks(deckResponse);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"Something went wrong\",_context.t0);case 11:return _context.abrupt(\"return\",function(){abortController.abort();});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function handleDelete(deck){if(window.confirm(\"Delete this deck? You will not be able to recover it\")){history.go(0);return deleteDeck(deck.id);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/decks/new\",className:\"btn btn-secondary my-2 \",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-plus-lg mr-2 mb-1\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z\"})}),\"Create Deck\"]}),decks.map(function(deck){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[deck.name,/*#__PURE__*/_jsxs(\"small\",{\"text-end\":\"true\",children:[\"\\xA0\\xA0 \",deck.cards.length,\" cards\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:deck.description}),/*#__PURE__*/_jsxs(Link,{to:\"/decks/\".concat(deck.id),className:\"btn btn-secondary m-lg-1\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-eye-fill mr-2 mb-1\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z\"})]}),\"View\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/decks/\".concat(deck.id,\"/study\"),className:\"btn btn-primary m-lg-1 m-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-journal-album mr-2 mb-1\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5.5 4a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5h-5zm1 7a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z\"})]}),\"Study\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger m-lg-2\",onClick:function onClick(){return handleDelete(deck);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-trash-fill mb-1\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2  2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0  0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1  0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5  0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"})}),\" Delete\"]})]})},deck.id);})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","listDecks","deleteDeck","Link","useHistory","Home","decks","setDecks","history","fetchData","abortController","AbortController","signal","deckResponse","console","error","abort","handleDelete","deck","window","confirm","go","id","map","name","cards","length","description"],"sources":["/Users/kieran/Documents/GitHub/flashcard-project/src/Components/Home.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {listDecks, deleteDeck} from \"../utils/api/index\";\nimport {Link, useHistory} from \"react-router-dom\";\n\nfunction Home () {\n  const [decks, setDecks] = useState ([])  \n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n        const abortController = new AbortController();\n        try {\n            const deckResponse = await listDecks(abortController.signal);\n            setDecks(deckResponse);\n        } catch (error) {\n            console.error(\"Something went wrong\", error);\n        }\n        return () => {\n            abortController.abort();\n        };\n    }\n    fetchData();\n}, []);\n\n  function handleDelete(deck) {\n    \n    if (\n        window.confirm(\n            `Delete this deck? You will not be able to recover it`\n        )\n    ) {\n        history.go(0);\n        return deleteDeck(deck.id);\n    }\n}\n\n  return (\n   <div>\n    <Link to=\"/decks/new\" className=\"btn btn-secondary my-2 \" >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        className=\"bi bi-plus-lg mr-2 mb-1\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z\"></path>\n      </svg>Create Deck</Link>\n     {decks.map(deck =>  <div key={deck.id} className=\"card\">\n    <div className=\"card-body\">\n    <h5 className=\"card-title\">{deck.name}\n\n    <small text-end=\"true\">\n    &nbsp;&nbsp; {deck.cards.length} cards\n    </small>\n    </h5>\n    <p className=\"card-text\">{deck.description}</p>\n      <Link to={`/decks/${deck.id}`} className=\"btn btn-secondary m-lg-1\">\n        <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        className=\"bi bi-eye-fill mr-2 mb-1\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\" />\n        <path d=\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z\" />\n      </svg>View</Link>\n\n      <Link to={`/decks/${deck.id}/study`} className=\"btn btn-primary m-lg-1 m-2\">\n        <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        className=\"bi bi-journal-album mr-2 mb-1\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M5.5 4a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5h-5zm1 7a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3z\" />\n        <path d=\"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z\" />\n        <path d=\"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z\" />\n      </svg>Study</Link>\n\n    <button type=\"button\" className=\"btn btn-danger m-lg-2\" onClick={() => handleDelete(deck)}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        fill=\"currentColor\"\n        className=\"bi bi-trash-fill mb-1\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 \n        2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 \n        0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 \n        0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 \n        0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"></path>\n      \n      </svg> Delete</button>\n    </div>\n\n  </div>)}\n</div> )\n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}