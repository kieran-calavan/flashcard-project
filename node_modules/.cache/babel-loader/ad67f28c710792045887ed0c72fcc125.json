{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kieran/Documents/GitHub/flashcard-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{updateDeck,readDeck}from\"../../utils/api\";import DeckForm from\"./DeckForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(){var _useState=useState({name:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var abortController,deckResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:abortController=new AbortController();if(deckId){_context.next=3;break;}return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return readDeck(deckId,abortController.signal);case 6:deckResponse=_context.sent;setDeck(deckResponse);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.error(\"Something went wrong\",_context.t0);case 13:return _context.abrupt(\"return\",function(){abortController.abort();});case 14:case\"end\":return _context.stop();}}},_callee,null,[[3,10]]);}));return _fetchData.apply(this,arguments);}fetchData();},[deckId]);var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return updateDeck(deck);case 3:response=_context2.sent;history.push(\"/decks/\"+response.id);console.log(\"Saved response!\",response);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/study\"),children:deck.name})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",\"aria-current\":\"page\",children:\"Edit Deck\"})]})}),/*#__PURE__*/_jsx(DeckForm,{submitHandler:submitHandler,deck:deck,setDeck:setDeck})]});}export default EditDeck;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useHistory","updateDeck","readDeck","DeckForm","EditDeck","name","description","deck","setDeck","deckId","history","fetchData","abortController","AbortController","signal","deckResponse","console","error","abort","submitHandler","event","preventDefault","response","push","id","log"],"sources":["/Users/kieran/Documents/GitHub/flashcard-project/src/Components/Decks/EditDeck.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {Link, useParams, useHistory} from \"react-router-dom\";\nimport { updateDeck, readDeck } from \"../../utils/api\";\nimport DeckForm from \"./DeckForm\";\n\n\nfunction EditDeck() {\n  const [deck, setDeck] = useState({name:\"\",description:\"\"})\n  const {deckId} = useParams();\n  const history = useHistory()\n\n  useEffect(() => {\n    async function fetchData() {\n        const abortController = new AbortController();\n        if (!deckId) {\n          return \n        }\n        try {\n            const deckResponse = await readDeck(deckId, abortController.signal);\n            setDeck(deckResponse);\n        } catch (error) {\n            console.error(\"Something went wrong\", error);\n        }\n        return () => {\n            abortController.abort();\n        };\n    }\n    fetchData();\n}, [deckId]);\n\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n    const response = await updateDeck(\n\n      deck\n    );\n    history.push(\"/decks/\"+response.id)\n    console.log(\"Saved response!\", response);\n  };\n  return (\n    <div>\n      <nav aria-label=\"breadcrumb\">\n      <ol className=\"breadcrumb\">\n        <li className=\"breadcrumb-item active\" aria-current=\"page\"><Link to ='/'>Home</Link></li>\n        <li className=\"breadcrumb-item\"> \n        <Link to={`/decks/${deck.id}/study`}>{deck.name}</Link></li>\n        <li className=\"breadcrumb-item\" aria-current=\"page\">Edit Deck</li>\n      </ol>\n      </nav>\n        \n  <DeckForm submitHandler={submitHandler} deck={deck} setDeck={setDeck}/>\n</div>\n  )\n}\nexport default EditDeck"],"mappings":"kaAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,IAAR,CAAcC,SAAd,CAAyBC,UAAzB,KAA0C,kBAA1C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,iBAArC,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAGA,QAASC,SAAT,EAAoB,CAClB,cAAwBR,QAAQ,CAAC,CAACS,IAAI,CAAC,EAAN,CAASC,WAAW,CAAC,EAArB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,eAAiBT,SAAS,EAA1B,CAAOU,MAAP,YAAOA,MAAP,CACA,GAAMC,QAAO,CAAGV,UAAU,EAA1B,CAEAH,SAAS,CAAC,UAAM,SACCc,UADD,uIACd,sKACUC,eADV,CAC4B,GAAIC,gBAAJ,EAD5B,IAESJ,MAFT,uGAMmCP,SAAQ,CAACO,MAAD,CAASG,eAAe,CAACE,MAAzB,CAN3C,QAMcC,YANd,eAOQP,OAAO,CAACO,YAAD,CAAP,CAPR,iFASQC,OAAO,CAACC,KAAR,CAAc,sBAAd,cATR,wCAWW,UAAM,CACTL,eAAe,CAACM,KAAhB,GACH,CAbL,uEADc,4CAgBdP,SAAS,GACZ,CAjBU,CAiBR,CAACF,MAAD,CAjBQ,CAAT,CAoBA,GAAMU,cAAa,4FAAG,kBAAOC,KAAP,qIACpBA,KAAK,CAACC,cAAN,GADoB,uBAEGpB,WAAU,CAE/BM,IAF+B,CAFb,QAEde,QAFc,gBAMpBZ,OAAO,CAACa,IAAR,CAAa,UAAUD,QAAQ,CAACE,EAAhC,EACAR,OAAO,CAACS,GAAR,CAAY,iBAAZ,CAA+BH,QAA/B,EAPoB,wDAAH,kBAAbH,cAAa,4CAAnB,CASA,mBACE,oCACE,YAAK,aAAW,YAAhB,uBACA,YAAI,SAAS,CAAC,YAAd,wBACE,WAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,uBAA2D,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,kBAA3D,EADF,cAEE,WAAI,SAAS,CAAC,iBAAd,uBACA,KAAC,IAAD,EAAM,EAAE,kBAAYZ,IAAI,CAACiB,EAAjB,UAAR,UAAsCjB,IAAI,CAACF,IAA3C,EADA,EAFF,cAIE,WAAI,SAAS,CAAC,iBAAd,CAAgC,eAAa,MAA7C,uBAJF,GADA,EADF,cAUF,KAAC,QAAD,EAAU,aAAa,CAAEc,aAAzB,CAAwC,IAAI,CAAEZ,IAA9C,CAAoD,OAAO,CAAEC,OAA7D,EAVE,GADF,CAcD,CACD,cAAeJ,SAAf"},"metadata":{},"sourceType":"module"}